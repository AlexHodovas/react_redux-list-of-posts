(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,n){e.exports=n(243)},133:function(e,t,n){},243:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),s=n.n(c),o=n(14),u=n(247),i=n(246),l=(n(133),n(4)),m=n.n(l),p=n(114),f=n(28),d=n(105),E=function(e){return{type:"HANDLE_SUCCESS",posts:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!0;case"HANDLE_SUCCESS":case"HANDLE_ERROR":return!1;default:return e}},v=n(45),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SUCCESS":return t.posts;case"HANDLE_REMOVE":return e.filter(function(e){return e.id!==t.id});case"HANDLE_REMOVE_COMMENT":return e.map(function(e){return Object(v.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.id})})});default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":case"HANDLE_SUCCESS":return!1;case"HANDLE_ERROR":return!0;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCHING_POSTS":return t.searchingPosts;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SEARCHING_POSTS":return!0;default:return e}},w=function(){var e,t;return m.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=n.sent,n.next=5,m.a.awrap(e.json());case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}})},S=function(){var e,t;return m.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return e=n.sent,n.next=5,m.a.awrap(e.json());case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}})},O=function(){var e,t;return m.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return e=n.sent,n.next=5,m.a.awrap(e.json());case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}})},A=function(e,t,n){return e.map(function(e){return Object(v.a)({},e,{user:t.find(function(t){return t.id===e.userId}),comments:n.filter(function(t){return t.postId===e.id})})})},C=function(e){return e.posts},L=function(e){return e.isSearching},R=function(e){return e.searchingPosts},_=function(e){return e.isLoading},x=function(e){return e.hasError},j=Object(f.c)({isLoading:h,posts:g,hasError:N,searchingPosts:y,isSearching:b}),D=Object(f.d)(j,Object(f.a)(d.a)),H=function(e){var t=e.userOne;return a.a.createElement("div",{className:"user"},"written by ",t.name,a.a.createElement("br",null),t.email,a.a.createElement("br",null),t.address.city)},T=Object(o.b)(null,function(e){return{removeComment:function(t){return e(function(e){return{type:"HANDLE_REMOVE_COMMENT",id:e}}(t))}}})(function(e){var t=e.comment,n=e.removeComment;return a.a.createElement("div",{className:"comment"},a.a.createElement("div",{className:"comment-title"},a.a.createElement("span",{className:"delete-comments",role:"img","aria-label":"cancel",onClick:function(){return n(t.id)}},"\u274c"),a.a.createElement("p",{className:"comment-title__id"},"Comment - ",t.id)),a.a.createElement("p",{className:"comment-body"},t.body),a.a.createElement("p",{className:"comment-email"},"E-mail - ",t.email))}),P=function(e){var t=e.comments;return a.a.createElement("div",{className:"comments"},a.a.createElement("h2",null,"Comments"),t.map(function(e){return a.a.createElement(T,{comment:e,key:e.id})}))},I=Object(o.b)(null,function(e){return{removePost:function(t){return e(function(e){return{type:"HANDLE_REMOVE",id:e}}(t))}}})(function(e){var t=e.post,n=e.removePost,r=t.id,c=t.title,s=t.body,o=t.comments,u=t.user;return a.a.createElement("div",{className:"post"},a.a.createElement("span",{className:"delete-post",role:"img","aria-label":"cancel",onClick:function(){return n(r)}},"\u274c"),a.a.createElement(H,{userOne:u}),a.a.createElement("h1",{className:"post-title"},"Post# - ",r),a.a.createElement("p",null,a.a.createElement("span",{className:"post-topic"}," ","Topic - "),c),a.a.createElement("p",null,s),a.a.createElement(P,{comments:o}))}),k=Object(o.b)(function(e){return{posts:C(e)}},null)(function(e){var t=e.posts;return a.a.createElement("div",{className:"posts"},t.map(function(e){return a.a.createElement(I,{post:e,key:e.id})}))}),M=Object(o.b)(function(e){return{isSearching:L(e),isLoading:_(e),posts:C(e),searchingPosts:R(e),hasError:x(e)}},function(e){return{loading:function(){return e(function(e){var t,n,r,a,c;return m.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e({type:"START_LOADING"}),s.prev=1,s.t0=m.a,s.t1=Promise,s.next=6,m.a.awrap(S());case 6:return s.t2=s.sent,s.next=9,m.a.awrap(w());case 9:return s.t3=s.sent,s.next=12,m.a.awrap(O());case 12:return s.t4=s.sent,s.t5=[s.t2,s.t3,s.t4],s.t6=s.t1.all.call(s.t1,s.t5),s.next=17,s.t0.awrap.call(s.t0,s.t6);case 17:t=s.sent,n=Object(p.a)(t,3),r=n[0],a=n[1],c=n[2],e(E(A(r,a,c))),e({type:"SEARCHING_POSTS",searchingPosts:A(r,a,c)}),s.next=29;break;case 26:s.prev=26,s.t7=s.catch(1),e({type:"HANDLE_ERROR"});case 29:case"end":return s.stop()}},null,null,[[1,26]])})},handleResponseSuccess:function(t){return e(E(t))}}})(function(e){var t=e.posts,n=e.searchingPosts,r=e.isLoading,c=e.hasError,s=e.isSearching,o=e.loading,l=e.handleResponseSuccess,m=function(e,t){var n;return function(){clearTimeout(n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];n=setTimeout.apply(void 0,[e,t].concat(a))}}(function(e){var t=e.toLowerCase();l(n.filter(function(e){return(e.title+e.body).toLowerCase().includes(t)}))},1e3);if(c)return a.a.createElement("p",null,"you have some problems with your network,",a.a.createElement("br",null),"please refresh the page");if(!t.length&&!s)return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{type:"button",onClick:function(){o()}},r?"Loading...":"Load"),r?a.a.createElement(u.a,{active:!0},a.a.createElement(i.a,{size:"huge"},"LOADING.....")):"");if(2===t.length){var p=document.querySelector(".posts").style;p.width="900px",p.margin="20px auto"}return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of posts"),a.a.createElement("p",{className:"posts-found"},0===t.length?"no posts exists":"posts found - ",0===t.length?"":t.length),a.a.createElement("input",{className:"input",placeholder:"Search for posts",onChange:function(e){return m(e.target.value)}}),a.a.createElement(k,null))});s.a.render(a.a.createElement(o.a,{store:D},a.a.createElement(M,null)),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.ce15a9ab.chunk.js.map